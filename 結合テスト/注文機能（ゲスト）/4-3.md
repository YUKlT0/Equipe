
### No. 4-3

- テストケース名: 注文（正常系 - 在庫数ぴったりの数量を注文）
- 前提条件:
  - DBに商品 `Product(1, "商品A", 500, 3)` が存在する。（在庫が3）
  - セッションにカート `Cart(items={"1": CartItem(..., quantity=3, subtotal=1500)}, totalQuantity=3, totalPrice=1500)` が存在する。
- 手順:
  1. HTTP POSTリクエストを `/api/orders` エンドポイントに送信する。リクエストボディに顧客情報を含める。
- 入力データ:
  - リクエストボディ(JSON): 
  ```json
  {
    "custmerInfo":{
      "name":"顧客 一郎",
      "adress":"東京都千代田区テスト1-1"
      "phoneNumber": "03-1234-5678"
    }
  }
   ```
  - セッション: 空(カートなし)
- 期待結果:
  1. HTTPステータスコードが `400 Bad Request` であること。
  2. レスポンスボディが空、注文IDと注文日時を含む。
  3. DB状態変化:
     - `orders`テーブルに1件レコードが追加され、顧客情報、合計金額(1500)、注文日時、ステータス("PENDING")正しくデータが登録されること。
     - `order_detail` テーブルの商品ID=1の在庫が0(3-3)に更新される。
  4. セッション状態変化: セッションから `cart` 属性が削除されること。
  5. `OrderService.placeOrder`が1回呼び出される。
  6. `ProductRepository.findById(1)`が呼び出され、在庫確認が行われる。
  7. `OrderRepository.save`が1回呼び出される。
  8. `ProductRepository.decreaseStock(1,3)`が1回呼び出される。
  9. `CartService.clearCart`が1回呼び出される。
