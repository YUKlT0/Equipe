## 6. インターフェース仕様書

- **SC0001: ユーザーログイン画面**

| イベント               | API名      | メソッド | エンドポイント      | 概要                                 |
| ---------------------- | ---------- | -------- | ------------------- | ------------------------------------ |
| ログインボタン押下     | ログイン   | POST     | `/api/auth/login` | メールアドレス＋パスワードでログイン |
| 新規会員登録リンク押下 | -          | -        | -                   | SC0010（新規会員登録画面）へ遷移     |
| ゲストログイン押下     | （未定義） | -        | -                   | SC0110（商品一覧画面）へ遷移         |

- **SC0010: 新規会員登録画面**

| イベント       | API名    | メソッド | エンドポイント              | 概要                                       |
| -------------- | -------- | -------- | --------------------------- | ------------------------------------------ |
| 登録ボタン押下 | 会員登録 | POST     | `/api/customers/register` | ユーザーID、パスワード、氏名、住所等を登録 |

- **SC0110: 商品一覧画面**

| イベント   | API名        | メソッド | エンドポイント    | 概要                                       |
| ---------- | ------------ | -------- | ----------------- | ------------------------------------------ |
| 画面表示時 | 商品一覧取得 | GET      | `/api/products` | 商品の一覧を取得（カテゴリなどの条件付き） |

- **SC0115: カテゴリ別商品一覧画面**

| イベント                   | API名                        | メソッド | エンドポイント                    | 概要                         |
| -------------------------- | ---------------------------- | -------- | --------------------------------- | ---------------------------- |
| カテゴリ選択時／画面表示時 | 商品一覧取得（カテゴリ指定） | GET      | `/api/products?categoryId={id}` | 指定カテゴリの商品一覧を取得 |

- **SC0120: 商品詳細画面**

| イベント             | API名        | メソッド | エンドポイント                | 概要                 |
| -------------------- | ------------ | -------- | ----------------------------- | -------------------- |
| 商品選択・画面表示時 | 商品詳細取得 | GET      | `/api/products/{productId}` | 商品の詳細情報を取得 |

- **SC0125: マイページ画面**

| イベント         | API名        | メソッド | エンドポイント        | 概要                             |
| ---------------- | ------------ | -------- | --------------------- | -------------------------------- |
| 画面表示時       | 会員情報取得 | GET      | `/api/customers/me` | ログイン中のユーザー情報を取得   |
| ログアウト押下   | ログアウト   | POST     | `/api/auth/logout`  | セッションまたはトークンを無効化 |
| 会員情報編集押下 | 会員情報更新 | PUT      | `/api/customers/me` | SC0128（会員情報編集画面）へ遷移 |

- **SC0128: 会員情報編集画面**

| イベント         | API名        | メソッド | エンドポイント        | 概要                           |
| ---------------- | ------------ | -------- | --------------------- | ------------------------------ |
| 編集内容保存押下 | 会員情報更新 | PUT      | `/api/customers/me` | ユーザーの氏名・住所などを更新 |

- **SC0130: カート画面**

| イベント             | API名          | メソッド | エンドポイント               | 概要                             |
| -------------------- | -------------- | -------- | ---------------------------- | -------------------------------- |
| 画面表示時           | カート内容取得 | GET      | `/api/cart`                | サーバー上のカート内容を取得     |
| 商品削除             | カート商品削除 | DELETE   | `/api/cart/items/{itemId}` | カート内の商品を削除             |
| 数量変更             | カート商品更新 | PUT      | `/api/cart/items/{itemId}` | カート内商品の数量などを更新     |
| 注文へ進むボタン押下 | -              | -        | -                            | SC0140（注文情報入力画面）へ遷移 |

- **SC0140: 注文情報入力画面**

| イベント           | API名        | メソッド | エンドポイント | 概要                                        |
| ------------------ | ------------ | -------- | -------------- | ------------------------------------------- |
| 画面表示時         | 会員情報取得 | GET      | `/api/cart`  | 会員情報を自動入力                          |
| 「注文確認へ」押下 | -            | -        | -              | SC0150（注文確認画面）へ遷移（API呼出なし） |

- **SC0150: 注文情報確認画面**

| イベント         | API名    | メソッド | エンドポイント  | 概要                               |
| ---------------- | -------- | -------- | --------------- | ---------------------------------- |
| 「注文確定」押下 | 注文登録 | POST     | `/api/orders` | 入力済み注文情報を送信し、確定処理 |

- **SC0160: 注文完了画面**

| イベント               | API名 | メソッド | エンドポイント | 概要                                        |
| ---------------------- | ----- | -------- | -------------- | ------------------------------------------- |
| 画面表示時             | -     | -        | -              | 完了メッセージ表示のみ（API呼出なし）       |
| ホームへ戻るボタン押下 | -     | -        | -              | SC0110（商品一覧画面）へ遷移（API呼出なし） |

- **SC9001: 管理者ログイン画面**

| イベント           | API名          | メソッド | エンドポイント            | 概要                           |
| ------------------ | -------------- | -------- | ------------------------- | ------------------------------ |
| ログインボタン押下 | 管理者ログイン | POST     | `/api/admin/auth/login` | 管理者ID＋パスワードでログイン |

- **SC9101: 管理者ダッシュボード画面**

| イベント                     | API名            | メソッド | エンドポイント             | 概要                                   |
| ---------------------------- | ---------------- | -------- | -------------------------- | -------------------------------------- |
| ログアウト押下               | 管理者ログアウト | POST     | `/api/admin/auth/logout` | 管理者セッションを無効化               |
| 商品情報追加・編集リンク押下 | -                | -        | -                          | SC9201（商品情報追加・編集画面）へ遷移 |
| 注文情報確認リンク押下       | -                | -        | -                          | SC9301（注文情報確認画面）へ遷移       |
| 管理者編集リンク押下         | -                | -        | -                          | SC9401（管理者編集画面）へ遷移         |

- **SC9201: 商品情報追加・編集画面** (管理者向け)

| イベント                     | API名        | メソッド | エンドポイント                             | 概要                             |
| ---------------------------- | ------------ | -------- | ------------------------------------------ | -------------------------------- |
| 新規商品情報登録ボタン押下   | 商品登録     | POST     | `/api/admin/products`                    | 新規商品情報を登録               |
| 商品情報編集→保存ボタン押下 | 商品編集     | PUT      | `/api/admin/products/{productId}`        | 既存商品情報を更新               |
| 商品情報削除→確定ボタン     |              |          |                                            |                                  |
| 商品画像アップロード         | 商品画像追加 | POST     | `/api/admin/products/{productId}/images` | 商品に対する画像を追加（複数可） |

- **SC9301: 注文情報確認画面** (管理者向け)

| イベント   | API名        | メソッド | エンドポイント        | 概要                         |
| ---------- | ------------ | -------- | --------------------- | ---------------------------- |
| 画面表示時 | 注文一覧取得 | GET      | `/api/admin/orders` | すべての注文情報を一覧で取得 |

- **SC9401: 管理者編集画面**

| イベント               | API名          | メソッド | エンドポイント                 | 概要                                 |
| ---------------------- | -------------- | -------- | ------------------------------ | ------------------------------------ |
| 画面表示時（一覧取得） | 管理者一覧取得 | GET      | `/api/admin/users`           | 登録済みの管理者アカウント一覧を取得 |
| 管理者新規登録押下     | 管理者登録     | POST     | `/api/admin/users`           | 新規管理者アカウントを登録           |
| 管理者編集→保存押下   | 管理者情報更新 | PUT      | `/api/admin/users/{adminId}` | 既存管理者の情報を更新               |
| 管理者削除押下         | 管理者削除     | DELETE   | `/api/admin/users/{adminId}` | 管理者アカウントを削除               |
